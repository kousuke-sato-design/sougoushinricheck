# ç¤¾å†…ãƒ¬ãƒ“ãƒ¥ãƒ¼ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ  - è¦ä»¶å®šç¾©

## èƒŒæ™¯ãƒ»èª²é¡Œ

### ç¾çŠ¶ã®èª²é¡Œ
- ç¤¾å†…æˆæœç‰©ï¼ˆwebthqui, sougoushinrimakeç­‰ï¼‰ã®ãƒ¬ãƒ“ãƒ¥ãƒ¼/ãƒã‚§ãƒƒã‚¯ã‚’**å£é ­ã§ä¾é ¼**ã—ã¦ã„ã‚‹
- å£é ­ä¾é ¼ã ã¨**é€²æ—ã—ãªã„ã€æ”¾ç½®ã•ã‚ŒãŒã¡**
- èª°ãŒä½•ã‚’ç¢ºèªã—ãŸã‹ã€ã©ã“ã¾ã§é€²ã‚“ã§ã„ã‚‹ã‹ä¸æ˜

### è§£æ±ºã—ãŸã„ã“ã¨
- ãƒ¬ãƒ“ãƒ¥ãƒ¼ä¾é ¼ã€œå®Œäº†ã¾ã§ã‚’ã‚·ã‚¹ãƒ†ãƒ ã§ç®¡ç†
- URLãƒ™ãƒ¼ã‚¹ã§ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ç¢ºèª
- ã‚³ãƒ¡ãƒ³ãƒˆã®ãƒ©ãƒªãƒ¼ï¼ˆã‚„ã‚Šå–ã‚Šï¼‰ãŒã§ãã‚‹
- ãƒ¡ãƒ¼ãƒ«é€šçŸ¥ã§ç¢ºå®Ÿã«ä¾é ¼ã‚’å±Šã‘ã‚‹

---

## ã‚·ã‚¹ãƒ†ãƒ æ¦‚è¦

### ã‚·ã‚¹ãƒ†ãƒ å
**sougoushinricheck** - ç¤¾å†…ãƒ¬ãƒ“ãƒ¥ãƒ¼ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ 

### æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯
- **ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰**: SvelteKit + TypeScript + Tailwind CSS
- **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹**: Turso (LibSQL)
- **ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°**: Cloudflare Pages + Workers
- **ãƒ¡ãƒ¼ãƒ«**: Gmail IMAPé€£æºï¼ˆé€šçŸ¥ç”¨ï¼‰

---

## æ©Ÿèƒ½è¦ä»¶

### 1. ãƒ¬ãƒ“ãƒ¥ãƒ¼ä¾é ¼ç®¡ç†

#### 1.1 ãƒ¬ãƒ“ãƒ¥ãƒ¼ä¾é ¼ã®ä½œæˆ
- ä¾é ¼ã‚¿ã‚¤ãƒˆãƒ«
- å¯¾è±¡URLï¼ˆãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ç”¨ï¼‰
- æˆæœç‰©ã‚¿ã‚¤ãƒ—é¸æŠ
  - Web/LPï¼ˆwebthquiç­‰ï¼‰
  - ãƒ–ãƒ­ã‚°/ãƒ—ãƒ¬ã‚¹ãƒªãƒªãƒ¼ã‚¹ï¼ˆsougoushinrimakeç­‰ï¼‰
  - ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆFigma URLç­‰ï¼‰
  - ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆï¼ˆGoogle Docs URLç­‰ï¼‰
  - ãã®ä»–
- èª¬æ˜ãƒ»ä¾é ¼å†…å®¹
- ãƒ¬ãƒ“ãƒ¥ãƒ¯ãƒ¼é¸æŠï¼ˆè¤‡æ•°å¯ï¼‰
- æœŸé™è¨­å®š

#### 1.2 ãƒ¬ãƒ“ãƒ¥ãƒ¼ä¾é ¼ä¸€è¦§
- ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹åˆ¥è¡¨ç¤ºï¼ˆä¾é ¼ä¸­/ç¢ºèªä¸­/å®Œäº†/å·®ã—æˆ»ã—ï¼‰
- ãƒ•ã‚£ãƒ«ã‚¿ãƒ»æ¤œç´¢æ©Ÿèƒ½
- è‡ªåˆ†ãŒä¾é ¼ã—ãŸã‚‚ã® / è‡ªåˆ†ã«ä¾é ¼ã•ã‚ŒãŸã‚‚ã®åˆ‡ã‚Šæ›¿ãˆ

### 2. ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ»ç¢ºèªæ©Ÿèƒ½

#### 2.1 URLãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼
- iframeã«ã‚ˆã‚‹ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼è¡¨ç¤ºï¼ˆå¯¾å¿œã‚µã‚¤ãƒˆã®å ´åˆï¼‰
- å¤–éƒ¨ãƒªãƒ³ã‚¯ã¨ã—ã¦é–‹ãã‚ªãƒ—ã‚·ãƒ§ãƒ³
- ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆä¿å­˜ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰

#### 2.2 ã‚³ãƒ¡ãƒ³ãƒˆæ©Ÿèƒ½
- ã‚¹ãƒ¬ãƒƒãƒ‰å½¢å¼ã®ã‚³ãƒ¡ãƒ³ãƒˆ
- ã‚³ãƒ¡ãƒ³ãƒˆã¸ã®è¿”ä¿¡ï¼ˆãƒ©ãƒªãƒ¼å½¢å¼ï¼‰
- ãƒ¡ãƒ³ã‚·ãƒ§ãƒ³æ©Ÿèƒ½ï¼ˆ@ãƒ¦ãƒ¼ã‚¶ãƒ¼åï¼‰
- æ·»ä»˜ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆç”»åƒç­‰ï¼‰

#### 2.3 ãƒã‚§ãƒƒã‚¯ãƒ»æ‰¿èª
- ã€Œç¢ºèªOKã€ã€Œå·®ã—æˆ»ã—ã€ã‚¢ã‚¯ã‚·ãƒ§ãƒ³
- ãƒã‚§ãƒƒã‚¯å±¥æ­´ã®è¨˜éŒ²
- å…¨å“¡ç¢ºèªå®Œäº†ã§è‡ªå‹•ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹æ›´æ–°

### 3. ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†

#### 3.1 ç¤¾å†…ãƒ¡ãƒ³ãƒãƒ¼ç®¡ç†
- ãƒ¡ãƒ³ãƒãƒ¼ç™»éŒ²ï¼ˆåå‰ã€ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ï¼‰
- ãƒ­ãƒ¼ãƒ«è¨­å®šï¼ˆç®¡ç†è€…/ä¸€èˆ¬ï¼‰
- ã‚¢ã‚¯ãƒ†ã‚£ãƒ–/éã‚¢ã‚¯ãƒ†ã‚£ãƒ–

#### 3.2 èªè¨¼ï¼ˆãƒ­ã‚°ã‚¤ãƒ³æ©Ÿèƒ½ï¼‰
- ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ + ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã§ãƒ­ã‚°ã‚¤ãƒ³
- ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã¯bcryptã§ãƒãƒƒã‚·ãƒ¥åŒ–ä¿å­˜
- ã‚»ãƒƒã‚·ãƒ§ãƒ³ãƒ™ãƒ¼ã‚¹èªè¨¼ï¼ˆCookieï¼‰
- ã‚»ãƒƒã‚·ãƒ§ãƒ³æœ‰åŠ¹æœŸé™: 24æ™‚é–“
- ãƒ­ã‚°ã‚¢ã‚¦ãƒˆæ©Ÿèƒ½
- åˆå›ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ™‚ã®ç®¡ç†è€…ã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆ

### 4. ãƒ¡ãƒ¼ãƒ«é€šçŸ¥

#### 4.1 é€šçŸ¥ã‚¿ã‚¤ãƒŸãƒ³ã‚°
- ãƒ¬ãƒ“ãƒ¥ãƒ¼ä¾é ¼ã‚’å—ã‘ãŸæ™‚
- ã‚³ãƒ¡ãƒ³ãƒˆãŒè¿½åŠ ã•ã‚ŒãŸæ™‚
- æ‰¿èª/å·®ã—æˆ»ã—ã•ã‚ŒãŸæ™‚
- ãƒªãƒã‚¤ãƒ³ãƒ€ãƒ¼ï¼ˆæœŸé™å‰ï¼‰

#### 4.2 Gmail IMAPé€£æº
- 1ã¤ã®Gmailã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ä½¿ç”¨
- IMAPçµŒç”±ã§ãƒ¡ãƒ¼ãƒ«é€ä¿¡
- é€ä¿¡å…ƒã‚¢ãƒ‰ãƒ¬ã‚¹ã®è¨­å®š

---

## ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆ

### ãƒ†ãƒ¼ãƒ–ãƒ«æ§‹æˆ

```sql
-- ãƒ¦ãƒ¼ã‚¶ãƒ¼
CREATE TABLE users (
  id TEXT PRIMARY KEY,
  email TEXT UNIQUE NOT NULL,
  name TEXT NOT NULL,
  password_hash TEXT NOT NULL,
  role TEXT DEFAULT 'member', -- admin/member
  is_active INTEGER DEFAULT 1,
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
);

-- ã‚»ãƒƒã‚·ãƒ§ãƒ³
CREATE TABLE sessions (
  id TEXT PRIMARY KEY,
  user_id TEXT NOT NULL,
  expires_at DATETIME NOT NULL,
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE
);

-- ãƒ¬ãƒ“ãƒ¥ãƒ¼ä¾é ¼
CREATE TABLE reviews (
  id TEXT PRIMARY KEY,
  title TEXT NOT NULL,
  description TEXT,
  target_url TEXT NOT NULL,
  content_type TEXT NOT NULL, -- web/blog/design/document/other
  status TEXT DEFAULT 'pending', -- pending/in_review/approved/rejected
  requester_id TEXT NOT NULL,
  due_date DATETIME,
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (requester_id) REFERENCES users(id)
);

-- ãƒ¬ãƒ“ãƒ¥ãƒ¯ãƒ¼å‰²ã‚Šå½“ã¦
CREATE TABLE review_assignees (
  id TEXT PRIMARY KEY,
  review_id TEXT NOT NULL,
  user_id TEXT NOT NULL,
  status TEXT DEFAULT 'pending', -- pending/approved/rejected
  reviewed_at DATETIME,
  FOREIGN KEY (review_id) REFERENCES reviews(id) ON DELETE CASCADE,
  FOREIGN KEY (user_id) REFERENCES users(id)
);

-- ã‚³ãƒ¡ãƒ³ãƒˆ
CREATE TABLE comments (
  id TEXT PRIMARY KEY,
  review_id TEXT NOT NULL,
  user_id TEXT NOT NULL,
  parent_id TEXT, -- è¿”ä¿¡ã®å ´åˆ
  content TEXT NOT NULL,
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (review_id) REFERENCES reviews(id) ON DELETE CASCADE,
  FOREIGN KEY (user_id) REFERENCES users(id),
  FOREIGN KEY (parent_id) REFERENCES comments(id)
);

-- ãƒ¡ãƒ¼ãƒ«è¨­å®š
CREATE TABLE email_settings (
  id TEXT PRIMARY KEY,
  smtp_host TEXT NOT NULL,
  smtp_port INTEGER NOT NULL,
  email_address TEXT NOT NULL,
  app_password TEXT NOT NULL,
  is_active INTEGER DEFAULT 1,
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP
);

-- é€šçŸ¥å±¥æ­´
CREATE TABLE notifications (
  id TEXT PRIMARY KEY,
  user_id TEXT NOT NULL,
  review_id TEXT,
  type TEXT NOT NULL, -- review_request/comment/approval/reminder
  message TEXT NOT NULL,
  is_read INTEGER DEFAULT 0,
  email_sent INTEGER DEFAULT 0,
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (user_id) REFERENCES users(id),
  FOREIGN KEY (review_id) REFERENCES reviews(id) ON DELETE SET NULL
);
```

---

## ç”»é¢æ§‹æˆ

### ãƒšãƒ¼ã‚¸ä¸€è¦§

| ãƒ‘ã‚¹ | èª¬æ˜ | èªè¨¼ |
|------|------|------|
| / | ãƒ­ã‚°ã‚¤ãƒ³ãƒšãƒ¼ã‚¸ | ä¸è¦ |
| /setup | åˆå›ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ— | ä¸è¦ï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼0äººæ™‚ã®ã¿ï¼‰ |
| /dashboard | ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ï¼ˆæ¦‚è¦ï¼‰ | å¿…è¦ |
| /reviews | ãƒ¬ãƒ“ãƒ¥ãƒ¼ä¸€è¦§ | å¿…è¦ |
| /reviews/new | æ–°è¦ãƒ¬ãƒ“ãƒ¥ãƒ¼ä¾é ¼ | å¿…è¦ |
| /reviews/[id] | ãƒ¬ãƒ“ãƒ¥ãƒ¼è©³ç´°ãƒ»ã‚³ãƒ¡ãƒ³ãƒˆ | å¿…è¦ |
| /members | ãƒ¡ãƒ³ãƒãƒ¼ç®¡ç† | ç®¡ç†è€… |
| /settings | è¨­å®šï¼ˆãƒ¡ãƒ¼ãƒ«ç­‰ï¼‰ | ç®¡ç†è€… |

### ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰è¡¨ç¤ºé …ç›®
- è‡ªåˆ†ã«ä¾é ¼ã•ã‚ŒãŸãƒ¬ãƒ“ãƒ¥ãƒ¼ï¼ˆæœªå¯¾å¿œï¼‰
- è‡ªåˆ†ãŒä¾é ¼ã—ãŸãƒ¬ãƒ“ãƒ¥ãƒ¼ï¼ˆé€²è¡Œä¸­ï¼‰
- æœ€è¿‘ã®ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£

---

## å®Ÿè£…è¨ˆç”»

### Phase 1: åŸºç›¤æ§‹ç¯‰
1. SvelteKitãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåˆæœŸåŒ–
2. Tursoãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶š
3. èªè¨¼æ©Ÿèƒ½ï¼ˆãƒ­ã‚°ã‚¤ãƒ³/ãƒ­ã‚°ã‚¢ã‚¦ãƒˆï¼‰
4. åŸºæœ¬ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ

### Phase 2: ã‚³ã‚¢æ©Ÿèƒ½
1. ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†
2. ãƒ¬ãƒ“ãƒ¥ãƒ¼ä¾é ¼CRUD
3. ãƒ¬ãƒ“ãƒ¥ãƒ¯ãƒ¼å‰²ã‚Šå½“ã¦
4. ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ç®¡ç†

### Phase 3: ã‚³ãƒ¡ãƒ³ãƒˆæ©Ÿèƒ½
1. ã‚³ãƒ¡ãƒ³ãƒˆæŠ•ç¨¿
2. è¿”ä¿¡æ©Ÿèƒ½ï¼ˆã‚¹ãƒ¬ãƒƒãƒ‰ï¼‰
3. ãƒ¡ãƒ³ã‚·ãƒ§ãƒ³æ©Ÿèƒ½

### Phase 4: é€šçŸ¥æ©Ÿèƒ½
1. Gmail SMTPè¨­å®š
2. ãƒ¡ãƒ¼ãƒ«é€ä¿¡
3. é€šçŸ¥å±¥æ­´

### Phase 5: UI/UXæ”¹å–„
1. ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼æ©Ÿèƒ½
2. ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰æœ€é©åŒ–
3. ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œ

---

## æ¤œè¨¼æ–¹æ³•

1. **é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•**: `npm run dev`
2. **å‹•ä½œç¢ºèª**:
   - ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²ãƒ»ãƒ­ã‚°ã‚¤ãƒ³
   - ãƒ¬ãƒ“ãƒ¥ãƒ¼ä¾é ¼ä½œæˆ
   - ã‚³ãƒ¡ãƒ³ãƒˆè¿½åŠ 
   - æ‰¿èª/å·®ã—æˆ»ã—
   - ãƒ¡ãƒ¼ãƒ«é€šçŸ¥å—ä¿¡
3. **Cloudflareãƒ‡ãƒ—ãƒ­ã‚¤**: `npm run build && wrangler pages deploy`

---

## è£œè¶³

### æ—¢å­˜ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¨ã®é–¢ä¿‚
- **webthqui**: ã‚¹ãƒˆãƒ¬ã‚¹ãƒã‚§ãƒƒã‚¯åˆ†æã‚·ã‚¹ãƒ†ãƒ  â†’ ã“ã®ã‚·ã‚¹ãƒ†ãƒ ã§ãƒ¬ãƒ“ãƒ¥ãƒ¼ä¾é ¼
- **sougoushinrimake**: MAãƒ„ãƒ¼ãƒ«ï¼ˆLP/ãƒ–ãƒ­ã‚°/PRä½œæˆï¼‰ â†’ ã“ã®ã‚·ã‚¹ãƒ†ãƒ ã§ãƒ¬ãƒ“ãƒ¥ãƒ¼ä¾é ¼

### é‹ç”¨æƒ³å®š
- **åˆæœŸãƒ¦ãƒ¼ã‚¶ãƒ¼æ•°**: 2-5åï¼ˆå°è¦æ¨¡ãƒãƒ¼ãƒ ï¼‰
- **ãƒ¡ãƒ¼ãƒ«é€šçŸ¥**: æ—¢å­˜Gmailã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½¿ç”¨ï¼ˆã‚¢ãƒ—ãƒªãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰è¨­å®šæ¸ˆã¿ï¼‰

### å°†æ¥ã®æ‹¡å¼µå¯èƒ½æ€§
- Slacké€£æº
- æ‰¿èªãƒ•ãƒ­ãƒ¼ã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º
- ãƒ¬ãƒãƒ¼ãƒˆæ©Ÿèƒ½

---

## ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ»ã‚¿ã‚¹ã‚¯ç®¡ç†æ©Ÿèƒ½ï¼ˆè¿½åŠ å®Ÿè£…æ¸ˆã¿ï¼‰

### 5. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç®¡ç†ï¼ˆTrelloé¢¨ï¼‰

#### 5.1 ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä½œæˆãƒ»ç®¡ç†
- ã‚¿ã‚¤ãƒˆãƒ«ã€èª¬æ˜ã€æœŸé™ã€å„ªå…ˆåº¦ï¼ˆé«˜/ä¸­/ä½ï¼‰ã€ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ï¼ˆæœªç€æ‰‹/é€²è¡Œä¸­/å®Œäº†/ä¿ç•™ï¼‰
- ã‚«ãƒ©ãƒ¼è¨­å®šï¼ˆã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼è¡¨ç¤ºç”¨ï¼‰
- æ‹…å½“è€…ã®å‰²ã‚Šå½“ã¦ï¼ˆè¤‡æ•°å¯ï¼‰
- ãƒ¬ãƒ“ãƒ¥ãƒ¼ã¨ã®ç´ä»˜ã‘ï¼ˆ1ã¤ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«è¤‡æ•°ã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ï¼‰

#### 5.2 ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…ã‚¿ã‚¹ã‚¯ç®¡ç†ï¼ˆTrelloé¢¨ã‚«ãƒ³ãƒãƒ³ï¼‰
- **ãƒœãƒ¼ãƒ‰ãƒ“ãƒ¥ãƒ¼**: æœªç€æ‰‹/é€²è¡Œä¸­/å®Œäº†ã®3ã‚«ãƒ©ãƒ ã§ã‚¿ã‚¹ã‚¯ç®¡ç†
- **ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ãƒ“ãƒ¥ãƒ¼**: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…ã‚¿ã‚¹ã‚¯ã‚’æœˆé–“ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã§è¡¨ç¤º
- ã‚¿ã‚¹ã‚¯ã®è¿½åŠ ãƒ»ç·¨é›†ãƒ»å‰Šé™¤
- ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ç§»å‹•ãƒœã‚¿ãƒ³ã§ãƒ¯ãƒ³ã‚¯ãƒªãƒƒã‚¯ç§»å‹•
- æœŸé™è¨­å®šã¨é€²æ—ç‡ã®è‡ªå‹•è¨ˆç®—

#### 5.3 ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¨ãƒ¬ãƒ“ãƒ¥ãƒ¼ã®é–¢é€£
- ãƒ¬ãƒ“ãƒ¥ãƒ¼ä½œæˆæ™‚ã«ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ç´ä»˜ã‘å¯èƒ½
- ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè©³ç´°ç”»é¢ã§é–¢é€£ãƒ¬ãƒ“ãƒ¥ãƒ¼ã®ä¸€è¦§è¡¨ç¤º

### 6. ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼æ©Ÿèƒ½ï¼ˆå…¨ä½“ãƒ“ãƒ¥ãƒ¼ï¼‰

#### 6.1 è¡¨ç¤ºãƒ¢ãƒ¼ãƒ‰
- **æœˆè¡¨ç¤º**: Googleã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼é¢¨ã®æœˆé–“ãƒ“ãƒ¥ãƒ¼
- **é€±è¡¨ç¤º**: é€±é–“ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³
- **ãƒªã‚¹ãƒˆè¡¨ç¤º**: ã‚¿ã‚¹ã‚¯ãƒ»ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒªã‚¹ãƒˆ
- **ã‚¬ãƒ³ãƒˆãƒãƒ£ãƒ¼ãƒˆ**: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆé€²æ—ã®æ¨ªè»¸è¡¨ç¤º

#### 6.2 æ©Ÿèƒ½
- ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¨ãƒ¬ãƒ“ãƒ¥ãƒ¼ã®æœŸé™ã‚’çµ±åˆè¡¨ç¤º
- ãƒ•ã‚£ãƒ«ã‚¿ï¼ˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ã¿/ãƒ¬ãƒ“ãƒ¥ãƒ¼ã®ã¿/ã™ã¹ã¦ï¼‰
- æœˆãƒ»é€±ã®ç§»å‹•ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³
- ä»Šæ—¥ã¸ã®ã‚¸ãƒ£ãƒ³ãƒ—

### 7. ãƒã‚¸ãƒƒã‚¯ãƒªãƒ³ã‚¯å¯¾å¿œ

#### 7.1 ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ç”¨ãƒã‚¸ãƒƒã‚¯ãƒªãƒ³ã‚¯
- `/calendar/[token]` ã§ãƒ­ã‚°ã‚¤ãƒ³ä¸è¦ã‚¢ã‚¯ã‚»ã‚¹
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã”ã¨ã«ãƒ‘ãƒ¼ã‚½ãƒŠãƒ©ã‚¤ã‚ºã•ã‚ŒãŸãƒ“ãƒ¥ãƒ¼
- 7æ—¥é–“æœ‰åŠ¹

---

## è¿½åŠ ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆ

```sql
-- ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆï¼ˆæ—§: ã‚´ãƒ¼ãƒ«ï¼‰
CREATE TABLE goals (
  id TEXT PRIMARY KEY,
  title TEXT NOT NULL,
  description TEXT,
  due_date DATETIME NOT NULL,
  priority TEXT DEFAULT 'medium', -- high/medium/low
  status TEXT DEFAULT 'pending', -- pending/in_progress/completed/on_hold
  color TEXT DEFAULT '#3b82f6',
  created_by TEXT NOT NULL,
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (created_by) REFERENCES users(id)
);

-- ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ‹…å½“è€…
CREATE TABLE goal_assignees (
  id TEXT PRIMARY KEY,
  goal_id TEXT NOT NULL,
  user_id TEXT NOT NULL,
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (goal_id) REFERENCES goals(id) ON DELETE CASCADE,
  FOREIGN KEY (user_id) REFERENCES users(id),
  UNIQUE(goal_id, user_id)
);

-- ãƒ¬ãƒ“ãƒ¥ãƒ¼ã¨ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ç´ä»˜ã‘
CREATE TABLE review_goals (
  id TEXT PRIMARY KEY,
  review_id TEXT NOT NULL,
  goal_id TEXT NOT NULL,
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (review_id) REFERENCES reviews(id) ON DELETE CASCADE,
  FOREIGN KEY (goal_id) REFERENCES goals(id) ON DELETE CASCADE,
  UNIQUE(review_id, goal_id)
);

-- ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…ã‚¿ã‚¹ã‚¯ï¼ˆTrelloé¢¨ã‚«ãƒ³ãƒãƒ³ç”¨ï¼‰
CREATE TABLE goal_tasks (
  id TEXT PRIMARY KEY,
  goal_id TEXT NOT NULL,
  title TEXT NOT NULL,
  description TEXT,
  due_date DATETIME,
  status TEXT DEFAULT 'pending', -- pending/in_progress/completed
  sort_order INTEGER DEFAULT 0,
  created_by TEXT NOT NULL,
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (goal_id) REFERENCES goals(id) ON DELETE CASCADE,
  FOREIGN KEY (created_by) REFERENCES users(id)
);

-- ãƒã‚§ãƒƒã‚¯é …ç›®
CREATE TABLE check_items (
  id TEXT PRIMARY KEY,
  review_id TEXT NOT NULL,
  goal_id TEXT,
  content TEXT NOT NULL,
  purpose TEXT,
  due_date DATETIME,
  priority TEXT DEFAULT 'medium',
  is_checked INTEGER DEFAULT 0,
  checked_by TEXT,
  checked_at DATETIME,
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (review_id) REFERENCES reviews(id) ON DELETE CASCADE,
  FOREIGN KEY (goal_id) REFERENCES goals(id) ON DELETE SET NULL,
  FOREIGN KEY (checked_by) REFERENCES users(id)
);

-- magic_links ãƒ†ãƒ¼ãƒ–ãƒ«ã« type ã‚«ãƒ©ãƒ è¿½åŠ 
ALTER TABLE magic_links ADD COLUMN type TEXT DEFAULT 'review';
-- type: 'review' | 'calendar' | 'goal'
```

---

## è¿½åŠ ç”»é¢æ§‹æˆ

| ãƒ‘ã‚¹ | èª¬æ˜ | èªè¨¼ |
|------|------|------|
| /calendar | ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ãƒ»ã‚¿ã‚¹ã‚¯ç®¡ç†ï¼ˆå…¨ä½“ãƒ“ãƒ¥ãƒ¼ï¼‰ | å¿…è¦ |
| /calendar/[token] | ãƒã‚¸ãƒƒã‚¯ãƒªãƒ³ã‚¯èªè¨¼ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ | ä¸è¦ï¼ˆãƒˆãƒ¼ã‚¯ãƒ³èªè¨¼ï¼‰ |
| /goals | ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä¸€è¦§ | å¿…è¦ |
| /goals/new | ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ | å¿…è¦ |
| /goals/[id] | ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè©³ç´°ï¼ˆTrelloé¢¨ãƒœãƒ¼ãƒ‰ï¼†ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ï¼‰ | å¿…è¦ |

---

## ä¸»è¦ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ

```
src/routes/
â”œâ”€â”€ calendar/
â”‚   â”œâ”€â”€ +page.svelte              # å…¨ä½“ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼UI
â”‚   â”œâ”€â”€ +page.server.ts           # ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ãƒ‡ãƒ¼ã‚¿å–å¾—
â”‚   â””â”€â”€ [token]/
â”‚       â”œâ”€â”€ +page.svelte          # ãƒã‚¸ãƒƒã‚¯ãƒªãƒ³ã‚¯ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼
â”‚       â””â”€â”€ +page.server.ts
â”œâ”€â”€ goals/
â”‚   â”œâ”€â”€ +page.svelte              # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä¸€è¦§
â”‚   â”œâ”€â”€ +page.server.ts
â”‚   â”œâ”€â”€ new/
â”‚   â”‚   â”œâ”€â”€ +page.svelte          # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ
â”‚   â”‚   â””â”€â”€ +page.server.ts
â”‚   â””â”€â”€ [id]/
â”‚       â”œâ”€â”€ +page.svelte          # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè©³ç´°ï¼ˆãƒœãƒ¼ãƒ‰ï¼†ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ï¼‰
â”‚       â””â”€â”€ +page.server.ts       # ã‚¿ã‚¹ã‚¯CRUD API
â””â”€â”€ ...

src/lib/components/
â”œâ”€â”€ CalendarMonth.svelte          # æœˆè¡¨ç¤ºã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”œâ”€â”€ CalendarWeek.svelte           # é€±è¡¨ç¤ºã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”œâ”€â”€ CalendarList.svelte           # ãƒªã‚¹ãƒˆè¡¨ç¤ºã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”œâ”€â”€ CalendarGantt.svelte          # ã‚¬ãƒ³ãƒˆãƒãƒ£ãƒ¼ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”œâ”€â”€ GoalBlock.svelte              # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ–ãƒ­ãƒƒã‚¯ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â””â”€â”€ AppLayout.svelte              # ã‚µã‚¤ãƒ‰ãƒãƒ¼ï¼ˆã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ãƒ»ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¿½åŠ æ¸ˆã¿ï¼‰

scripts/
â”œâ”€â”€ add_goals.js                  # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆé–¢é€£ãƒ†ãƒ¼ãƒ–ãƒ« ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
â””â”€â”€ add_goal_tasks.js             # ã‚¿ã‚¹ã‚¯ãƒ†ãƒ¼ãƒ–ãƒ« ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
```

---

## ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œ

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ»ã‚¿ã‚¹ã‚¯ç®¡ç†æ©Ÿèƒ½ã‚’æœ‰åŠ¹ã«ã™ã‚‹ã«ã¯ã€ä»¥ä¸‹ã®ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å®Ÿè¡Œï¼š

```bash
node scripts/add_goals.js
node scripts/add_goal_tasks.js
```

---

## ç¾åœ¨ã®å®Ÿè£…çŠ¶æ…‹ï¼ˆ2025å¹´1æœˆï¼‰

### 8. ãƒ¬ãƒ“ãƒ¥ãƒ¼è©³ç´°ãƒšãƒ¼ã‚¸ï¼ˆå®Ÿè£…æ¸ˆã¿ï¼‰

#### 8.1 ç·¨é›†æ©Ÿèƒ½
- **3ã¤ã®è¡¨ç¤ºãƒ¢ãƒ¼ãƒ‰**åˆ‡ã‚Šæ›¿ãˆï¼ˆã‚¿ãƒ–UIï¼‰
  - ç·¨é›†ãƒ¢ãƒ¼ãƒ‰: ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢ã®ã¿ï¼ˆãƒ•ãƒ«å¹…ã§é›†ä¸­ç·¨é›†ï¼‰
  - åˆ†å‰²ãƒ¢ãƒ¼ãƒ‰: å·¦ã«ç·¨é›†ã€å³ã«ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼
  - ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ¢ãƒ¼ãƒ‰: ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã®ã¿ï¼ˆãƒ•ãƒ«å¹…ã§ç¢ºèªï¼‰
- **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼**: ç·¨é›†ä¸­ã«URLã‚«ãƒ¼ãƒ‰ãƒ»YouTubeåŸ‹ã‚è¾¼ã¿ã‚’å³åº§ã«ç¢ºèª
- **è‡ªå‹•ä¿å­˜UI**: å¤‰æ›´ãŒã‚ã‚‹ã¨å³ä¸‹ã«ä¿å­˜ãƒœã‚¿ãƒ³ãŒè¡¨ç¤º

#### 8.2 ãƒ­ãƒƒã‚¯æ©Ÿèƒ½
- ä½œæˆè€…ãŒãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ãƒ­ãƒƒã‚¯/ãƒ­ãƒƒã‚¯è§£é™¤å¯èƒ½
- ãƒ­ãƒƒã‚¯ä¸­: é–²è¦§å°‚ç”¨ãƒ¢ãƒ¼ãƒ‰ï¼ˆä½œæˆè€…å«ã‚€å…¨å“¡ï¼‰
- ãƒ­ãƒƒã‚¯ä¸­ã®ã¿ã€Œç¢ºèªä¾é ¼ã‚’é€ä¿¡ã€ãƒœã‚¿ãƒ³ãŒè¡¨ç¤º

#### 8.3 ç¢ºèªãƒ»ã‚³ãƒ¡ãƒ³ãƒˆæ©Ÿèƒ½
- ç¢ºèªOK / ã‚³ãƒ¡ãƒ³ãƒˆé€ä¿¡
- ãƒ¡ãƒ¼ãƒ«é€šçŸ¥ã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼ˆãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ï¼‰
- ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³è¡¨ç¤º
- ç¢ºèªæ¸ˆã¿ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ä¸€è¦§è¡¨ç¤º

### 9. å…¬é–‹ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒšãƒ¼ã‚¸ï¼ˆå®Ÿè£…æ¸ˆã¿ï¼‰

#### 9.1 å…±æœ‰URL
- `/p/[token]` ã§ãƒ­ã‚°ã‚¤ãƒ³ä¸è¦ã‚¢ã‚¯ã‚»ã‚¹
- ãƒ¬ãƒ“ãƒ¥ãƒ¼è©³ç´°ãƒšãƒ¼ã‚¸ã¨åŒã˜ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼è¡¨ç¤º
- ã‚²ã‚¹ãƒˆãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ã‚ˆã‚‹ç¢ºèªOKãƒ»ã‚³ãƒ¡ãƒ³ãƒˆå¯èƒ½
- ãŠåå‰å…¥åŠ›ã§èª°ãŒç¢ºèªã—ãŸã‹è¨˜éŒ²

### 10. ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼æ©Ÿèƒ½ï¼ˆå®Ÿè£…æ¸ˆã¿ï¼‰

#### 10.1 URLã‚«ãƒ¼ãƒ‰è¡¨ç¤º
- å˜ç‹¬è¡Œã®URLã‚’è‡ªå‹•æ¤œå‡ºã—ã¦ã‚«ãƒ¼ãƒ‰å½¢å¼ã§è¡¨ç¤º
- ã‚µãƒ¼ãƒ“ã‚¹åˆ¥ã‚¢ã‚¤ã‚³ãƒ³ï¼ˆYouTubeã€Twitterã€GitHubã€Figmaç­‰ï¼‰
- ãƒ›ãƒãƒ¼æ™‚ã®ã‚·ãƒ£ãƒ‰ã‚¦ã‚¨ãƒ•ã‚§ã‚¯ãƒˆ

#### 10.2 YouTubeåŸ‹ã‚è¾¼ã¿
- YouTube URLã‚’è‡ªå‹•æ¤œå‡º
- åŸ‹ã‚è¾¼ã¿ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã§å†ç”Ÿå¯èƒ½
- ã‚·ãƒ§ãƒ¼ãƒˆå‹•ç”»å¯¾å¿œ

#### 10.3 ãƒ†ã‚­ã‚¹ãƒˆæ•´å½¢
- è¦‹å‡ºã—ï¼ˆ#, ##, ###ï¼‰
- ãƒªã‚¹ãƒˆï¼ˆâ€¢, 1. 2. 3.ï¼‰
- ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ï¼ˆâ˜, â˜‘ï¼‰
- å¼•ç”¨ï¼ˆ> ï¼‰
- åŒºåˆ‡ã‚Šç·šï¼ˆ---ï¼‰
- ã‚¢ãƒ©ãƒ¼ãƒˆãƒ–ãƒ­ãƒƒã‚¯ï¼ˆğŸ’¡, ğŸ“Œ, â„¹ï¸, âœ…, âš ï¸, ğŸš€ï¼‰

---

## å…±é€šã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

### ContentPreview.svelte
- **å ´æ‰€**: `src/lib/components/ContentPreview.svelte`
- **ç”¨é€”**: URLã‚«ãƒ¼ãƒ‰ãƒ»YouTubeåŸ‹ã‚è¾¼ã¿ãƒ»ãƒ†ã‚­ã‚¹ãƒˆæ•´å½¢ã‚’ä¸€å…ƒç®¡ç†
- **ä½¿ç”¨ç®‡æ‰€**:
  - `/reviews/[id]` - ç·¨é›†ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ»é–²è¦§ãƒ¢ãƒ¼ãƒ‰
  - `/p/[token]` - å…¬é–‹ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼
- **props**: `content: string` - è¡¨ç¤ºã™ã‚‹ãƒ†ã‚­ã‚¹ãƒˆ

---

## è¿½åŠ ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³

```bash
node scripts/add_is_locked.js       # ãƒ­ãƒƒã‚¯æ©Ÿèƒ½
node scripts/add_comment_fields.js  # ã‚³ãƒ¡ãƒ³ãƒˆæ‹¡å¼µãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰
node scripts/add_project_url.js     # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆURL
node scripts/fix_comment_userid.js  # ã‚³ãƒ¡ãƒ³ãƒˆãƒ¦ãƒ¼ã‚¶ãƒ¼IDä¿®æ­£
```

---

## ãƒ‡ãƒ—ãƒ­ã‚¤

```bash
npm run build && npx wrangler pages deploy .svelte-kit/cloudflare --project-name=sougoushinricheck
```

**æœ¬ç•ªURL**: https://sougoushinricheck.pages.dev
